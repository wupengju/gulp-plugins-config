{"version":3,"sources":["lib/artTemplate.js"],"names":["a","replace","t","u","v","w","x","split","y","b","c","d","e","m","length","k","s","f","j","g","indexOf","l","test","n","r","p","o","debug","h","openTag","i","closeTag","parser","compress","escape","$data","$filename","$utils","$helpers","$out","$line","q","trim","z","A","Function","prototype","B","temp","filename","version","config","defaults","cache","render","renderFile","get","name","message","document","getElementById","value","innerHTML","call","<",">","\"","'","&","Array","isArray","toString","utils","$include","$string","$escape","$each","helper","helpers","onerror","console","error","compile","RegExp","join","shift","substr","define","exports","module","this","template"],"mappings":"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","file":"../../lib/artTemplate.js","sourcesContent":["/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/\n!function(){function a(a){return a.replace(t,\"\").replace(u,\",\").replace(v,\"\").replace(w,\"\").replace(x,\"\").split(y)}function b(a){return\"'\"+a.replace(/('|\\\\)/g,\"\\\\$1\").replace(/\\r/g,\"\\\\r\").replace(/\\n/g,\"\\\\n\")+\"'\"}function c(c,d){function e(a){return m+=a.split(/\\n/).length-1,k&&(a=a.replace(/\\s+/g,\" \").replace(/<!--[\\w\\W]*?-->/g,\"\")),a&&(a=s[1]+b(a)+s[2]+\"\\n\"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\\n/g,function(){return m++,\"$line=\"+m+\";\"})),0===b.indexOf(\"=\")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\\s;]*$/g,\"\"),e){var f=b.replace(/\\s*\\([^\\)]+\\)/,\"\");n[f]||/^(include|print)$/.test(f)||(b=\"$escape(\"+b+\")\")}else b=\"$string(\"+b+\")\";b=s[1]+b+s[2]}return g&&(b=\"$line=\"+c+\";\"+b),r(a(b),function(a){if(a&&!p[a]){var b;b=\"print\"===a?u:\"include\"===a?v:n[a]?\"$utils.\"+a:o[a]?\"$helpers.\"+a:\"$data.\"+a,w+=a+\"=\"+b+\",\",p[a]=!0}}),b+\"\\n\"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q=\"\".trim,s=q?[\"$out='';\",\"$out+=\",\";\",\"$out\"]:[\"$out=[];\",\"$out.push(\",\");\",\"$out.join('')\"],t=q?\"$out+=text;return $out;\":\"$out.push(text);\",u=\"function(){var text=''.concat.apply('',arguments);\"+t+\"}\",v=\"function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);\"+t+\"}\",w=\"'use strict';var $utils=this,$helpers=$utils.$helpers,\"+(g?\"$line=0,\":\"\"),x=s[0],y=\"return new String(\"+s[3]+\");\";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z=\"try{\"+z+\"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:\"+b(c)+\".split(/\\\\n/)[$line-1].replace(/^\\\\s+/,'')};}\");try{var A=new Function(\"$data\",\"$filename\",z);return A.prototype=n,A}catch(B){throw B.temp=\"function anonymous($data,$filename) {\"+z+\"}\",B}}var d=function(a,b){return\"string\"==typeof b?q(b,{filename:a}):g(a,b)};d.version=\"3.0.0\",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:\"<%\",closeTag:\"%>\",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:\"Render Error\",message:\"Template not found\"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if(\"object\"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\\s*|\\s*$/g,\"\");b=q(d,{filename:a})}}return b};var h=function(a,b){return\"string\"!=typeof a&&(b=typeof a,\"number\"===b?a+=\"\":a=\"function\"===b?h(a.call(a)):\"\"),a},i={\"<\":\"&#60;\",\">\":\"&#62;\",'\"':\"&#34;\",\"'\":\"&#39;\",\"&\":\"&#38;\"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\\w#]+;)|[<>\"']/g,j)},l=Array.isArray||function(a){return\"[object Array]\"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b=\"Template Error\\n\\n\";for(var c in a)b+=\"<\"+c+\">\\n\"+a[c]+\"\\n\\n\";\"object\"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return\"{Template Error}\"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+\"\"}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||\"anonymous\",j.name=\"Syntax Error\",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s=\"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined\",t=/\\/\\*[\\w\\W]*?\\*\\/|\\/\\/[^\\n]*\\n|\\/\\/[^\\n]*$|\"(?:[^\"\\\\]|\\\\[\\w\\W])*\"|'(?:[^'\\\\]|\\\\[\\w\\W])*'|\\s*\\.\\s*[$\\w\\.]+/g,u=/[^\\w$]+/g,v=new RegExp([\"\\\\b\"+s.replace(/,/g,\"\\\\b|\\\\b\")+\"\\\\b\"].join(\"|\"),\"g\"),w=/^\\d[^,]*|,\\d[^,]*/g,x=/^,+|,+$/g,y=/^$|,+/;e.openTag=\"{{\",e.closeTag=\"}}\";var z=function(a,b){var c=b.split(\":\"),d=c.shift(),e=c.join(\":\")||\"\";return e&&(e=\", \"+e),\"$helpers.\"+d+\"(\"+a+e+\")\"};e.parser=function(a){a=a.replace(/^\\s/,\"\");var b=a.split(\" \"),c=b.shift(),e=b.join(\" \");switch(c){case\"if\":a=\"if(\"+e+\"){\";break;case\"else\":b=\"if\"===b.shift()?\" if(\"+b.join(\" \")+\")\":\"\",a=\"}else\"+b+\"{\";break;case\"/if\":a=\"}\";break;case\"each\":var f=b[0]||\"$data\",g=b[1]||\"as\",h=b[2]||\"$value\",i=b[3]||\"$index\",j=h+\",\"+i;\"as\"!==g&&(f=\"[]\"),a=\"$each(\"+f+\",function(\"+j+\"){\";break;case\"/each\":a=\"});\";break;case\"echo\":a=\"print(\"+e+\");\";break;case\"print\":case\"include\":a=c+\"(\"+b.join(\",\")+\");\";break;default:if(/^\\s*\\|\\s*[\\w\\$]/.test(e)){var k=!0;0===a.indexOf(\"#\")&&(a=a.substr(1),k=!1);for(var l=0,m=a.split(\"|\"),n=m.length,o=m[l++];n>l;l++)o=z(o,m[l]);a=(k?\"=\":\"=#\")+o}else a=d.helpers[c]?\"=#\"+c+\"(\"+b.join(\",\")+\");\":\"=\"+a}return a},\"function\"==typeof define?define(function(){return d}):\"undefined\"!=typeof exports?module.exports=d:this.template=d}();"]}